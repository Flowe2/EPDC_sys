# 进度汇报
> @author: 孔华钦
> @time stamp: 2021-05-28
> @git addr: `git@github.com:Flowe2/EQM_sys.git`

## 近期完成
* 头像区域显示用户名/管理员名
* 题库界面, 保证待删除题库列表和组卷列表非空时刷新和关闭时有反悔机制  
* 前端, 将管理员可视化统计界面里面"展示一月内新增和删除操作次数"统计的功能替换为可视化展示近6月时间内用户活跃程度热度图(统计系统日志中role为user的日志条数)  
* 前端, 优化管理员账号维护、注册管理、系统日志界面table的过滤和排序功能, 基本完善, 符合预期  
* 前端组卷界面header位置, 准备增加一个badge, 提示已选试题总数, 可点击, 点击后在页面左下显示一个affix固钉, 内含一个饼图, 提示各题型已选试题数和待选数量  
* 后端, 对应修改可视化展示的后端查询接口, 使用了聚合查询, mongodb数据库操作技能得到锻炼  
* 后端, 调整系统日志接口, 将用户登录也纳入日志范围

## TO DO
* 题库界面, 加入试卷按钮准备新增设定预期题目数量功能, 仅在初次点击时触发, 弹窗提示是否设置, 但是略感鸡肋  
* 组卷界面后续设计及实现  
* 组卷完成后文件下载功能  
* 上传界面题目资源(图片文件)上传功能  

## P.S.
* 发现git地址改了但周报里面没有改, 本周的已经调整过来, 方便老师检查  
* 目前有一个bug暂时没有好的办法解决, `vue-router` + `element-plus`, 准备直接在题库界面把刷新事件禁止了, 花了两三天来找解决方案, 没有合适合理的, 题库内容的刷新本身可以通过切换题型来简单完成, 在上传/删除/组卷后也会有主动刷新, 不过不影响使用, 可以不管  
* 与常同学OJ系统对接的接口问题, 实际上, 我感觉……OJ调用题库的话, 仍然大概是需要选题→组卷→导入这样的步骤的, 有点儿不太明白这个接口应该怎么做. 我目前的想法是干脆就保留一个长久生效的token(因为我这边用户验证使用的token), 然后OJ那边点击特定链接直接跳转进入题库, 进行选题组卷然后下载, 再导入到题库, 但基本上相当于对OJ而言仅仅是略过了普通用户登录这个步骤  